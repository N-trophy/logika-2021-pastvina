{% extends "pastvina/base.html" %}
{% load extras %}

{% block title %} Hra {% endblock%}

{% block head %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<section class="padding-small light">
    <h1>Vítejte na pastvině</h1>
</section>
<section class="padding-small dark">
    <h2>Pravidla</h2>
    <p>
        <ul>
            <li>Nejezte vzácné druhy květin.</li>
            <li>Netrkejte ostatní kozy.</li>
        </ul>
    </p>
</section>


{% include "pastvina/parts/game_header.html" %}

<section class="padding-small light">
    <h2>Přehled plodin</h2>
    <div class="container centered">
        <table class="table-all">
            <tr>
                <th>Název</th>
                <th>Doba růstu</th>
                <th>Doba kažení</th>
                <th>Cena nákup</th>
                <th>Cena prodej</th>
            </tr>
            {% for crop in crops %}
            <tr>
                <td>{{ crop.name }}</td>
                <td>{{ crop.growth_time }}</td>
                <td>{{ crop.rotting_time }}</td>
                <td><span class="crop-buy-price-{{ crop.id }}">-</span></td>
                <td><span class="crop-sell-price-{{ crop.id }}">-</span></td>
            </tr>
            {% endfor %}
        </table>
    </div>
</section>

<section class="padding-small light">
        {% for crop in crops %}
        <div class="container centered control-box">
            <div class="quarter brick">
                <input class="full-width input" type="number">
                <button class="full-width input">Koupit</button>
            </div>
            {% include "pastvina/parts/age_chart.html" with chart_type="crop" color=crop.color name=crop.name name_genitive=crop.name_genitive id=crop.id %}
            <div class="quarter brick">
                <input class="full-width input" type="number">
                <button class="full-width input">Prodat</button>
            </div>
        </div>
        {% endfor %}
</section>

<section class="padding-small light">
    <h2>Přehled dobytka</h2>
    <div class="container centered">
        <table class="table-all">
            <tr>
                <th>Název</th>
                <th>Doba růstu</th>
                <th>Délka života</th>
                <th>Cena mláděte</th>
                <th>Cena dospělého kusu</th>
                <th>Druh potravy</th>
                <th>Spotřeba</th>
                <th>Produkt</th>
                <th>Cena produkce jedince</th>
            </tr>
            {% for ls in livestock %}
            <tr>
                <td>{{ ls.name }}</td>
                <td>{{ ls.growth_time }}</td>
                <td>{{ ls.life_time }}</td>
                <td><span class="ls-buy-price-{{ ls.id }}">-</span></td>
                <td><span class="ls-sell-price-{{ ls.id }}">-</span></td>
                <td>{{ ls.consumption_type.name }}</td>
                <td>{{ ls.consumption }}</td>
                <td>{{ ls.product_name }}</td>
                <td><span class="product-price-{{ ls.id }}">-</span></td>
            </tr>
            {% endfor %}
        </table>
    </div>
</section>

<section class="padding-small light">
        {% for ls in livestock %}
        <div class="container centered control-box">
            <div class="quarter brick">
                <input class="full-width input" type="number">
                <button class="full-width input">Koupit</button>
            </div>
            {% include "pastvina/parts/age_chart.html" with chart_type="livestock" color=ls.color name=ls.name name_genitive=ls.name_genitive id=ls.id %}
            <div class="quarter brick">
                <input class="full-width input" type="number">
                <button class="full-width input">Porazit a prodat (max {{round.livestock_slaughter_limit}} ks)</button>
                <input class="full-width input" type="number">
                <button class="full-width input">Utratit</button>
            </div>
        </div>
        {% endfor %}
</section>

<script>
    setInterval(updateTimeToNextTick, 500);
</script>

{% endblock %}
